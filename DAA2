// Program 02: Merge Sort

#include<stdio.h>
int cmpCnt = 0;
void merge(int arr[], int l, int mid, int h){
    int i = l, j = mid+1, k = 0;
    int curr[h-l+1];
    while(i <= mid && j <= h){
        if(arr[i] < arr[j]) curr[k++] = arr[i++];
        else curr[k++] = arr[j++];
        cmpCnt++;
    }
    while(i <= mid) curr[k++] = arr[i++];
    while(j <= h) curr[k++] = arr[j++];
    for(int p = 0;p<k;p++) arr[l+p] = curr[p];
}

void mergeSort(int arr[], int l, int h){
    if(l>=h) return;
    int mid = (l + h) / 2;
    mergeSort(arr, l, mid);
    mergeSort(arr, mid+1, h);
    merge(arr, l, mid , h);
}

int main(){
    int n;
    scanf("%d",&n);
    int arr[100];
    for(int i = 0;i<n;i++) scanf("%d",&arr[i]);
    mergeSort(arr, 0, n-1);
    for(int i = 0;i<n;i++) printf("%d ", arr[i]);
    printf("\nComparisons: %d", cmpCnt);
    return 0;
}
